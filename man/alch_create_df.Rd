% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/alchemer_functions.R
\name{alch_create_df}
\alias{alch_create_df}
\title{Construye tibble de respuestas desde la lista de Alchemer}
\usage{
alch_create_df(ls_alchemer)
}
\arguments{
\item{ls_alchemer}{List. Objeto parseado de la API de Alchemer; debe contener
el elemento \code{data} con las respuestas (lista de respuestas).}
}
\value{
Tibble. Una fila por respuesta de encuesta con las columnas de
  metadatos originales y columnas de respuesta llamadas \code{var<id>}.
  Cada columna de respuesta recibe el atributo \code{"label"} con la
  pregunta correspondiente (texto limpio).
}
\description{
Construye una tabla (tibble) a partir de la salida de la API de Alchemer
(objeto devuelto por \code{alch_get_survey_responses}). Extrae para cada
pregunta los campos \code{id}, \code{question} y \code{answer}, pivotea las
respuestas a formato ancho (una fila por respuesta) creando columnas
\code{var<id>} y asigna la etiqueta de variable (atributo \code{"label"})
con el texto de la pregunta (etiquetas HTML son limpiadas).
}
\details{
- Si una pregunta no tiene \code{answer}, el valor resultante será \code{NA}.
- Respuestas múltiples por misma pregunta se colapsan en una cadena
  separada por \code{"; "}.
- La función asume que \code{ls_alchemer[["data"]]} es una lista con la
  estructura estándar de la API (cada elemento contiene sublistas con
  elementos \code{id}, \code{question}, \code{answer} entre otros).
}
\examples{
\dontrun{
resp <- alch_get_survey_responses(survey_id = 8487186)
df <- alch_create_df(resp)
head(df)
# ver label de la columna var3
attr(df$var3, "label")
}

}
