% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/alchemer_functions.R
\name{alch_get_survey_responses}
\alias{alch_get_survey_responses}
\title{Obtener respuestas de una encuesta de Alchemer}
\usage{
alch_get_survey_responses(
  api_token = Sys.getenv("ALCH_API"),
  api_token_secret = Sys.getenv("ALCH_API_SECRET_KEY"),
  survey_id,
  results_per_page = 500,
  page = "all"
)
}
\arguments{
\item{api_token}{`chr` Clave pública de API de Alchemer. Por defecto toma
\code{Sys.getenv("ALCH_API")}.}

\item{api_token_secret}{`chr` Clave secreta de API. Por defecto toma
\code{Sys.getenv("ALCH_API_SECRET_KEY")}.}

\item{survey_id}{`int` ID de la encuesta de la que se desean obtener las respuestas.}

\item{results_per_page}{`int` Número de respuestas por página (1..500). Valor por
defecto: 500.}

\item{page}{`int` o \code{"all"}. Número de página a descargar, o
\code{"all"} para recuperar y combinar todas las páginas.}
}
\value{
`list`. Objeto devuelto por la API (parseado a lista). Si
  \code{page = "all"} el elemento \code{data} contendrá las respuestas de
  todas las páginas combinadas.
}
\description{
Recupera las respuestas de una encuesta en Alchemer. Permite descargar una
página concreta de resultados o todas las páginas (combinadas) cuando
\code{page = "all"}. La función valida parámetros y devuelve el objeto
parseado por la API (lista con metadatos y elemento \code{data} con las
respuestas).
}
\details{
- Valida que las credenciales y parámetros sean correctos antes de llamar a la API.
- Cuando \code{page = "all"} hace múltiples llamadas (si procede) y concatena
  todos los elementos \code{data} en la respuesta retornada.
}
\examples{
\dontrun{
# definir credenciales (mejor usar variables de entorno en tu sistema)
Sys.setenv(ALCH_API = "tu_api_token")
Sys.setenv(ALCH_API_SECRET_KEY = "tu_api_secret")

# obtener la primera página
resp_page1 <- alch_get_survey_responses(survey_id = 123456, page = 1)
str(resp_page1)

# obtener todas las páginas combinadas
resp_all <- alch_get_survey_responses(survey_id = 123456, page = "all")
length(resp_all$data)    # número total de respuestas descargadas
}

}
